$id: https://raw.githubusercontent.com/MinBZK/poc-machine-law/refs/heads/main/schema/v0.1.6/schema.json
uuid: 3f8a2b1c-9d4e-4f5a-b8c7-6e1d2f3a4b5c
name: Bepalen vertegenwoordigingsbevoegdheid namens rechtspersonen
law: machtigingenwet
law_type: "FORMELE_WET"
legal_character: "BESCHIKKING"
decision_type: "ANDERE_HANDELING"
valid_from: 2024-01-01
service: "KVK"
discoverable: "DELEGATION_PROVIDER"
legal_basis:
  law: "Burgerlijk Wetboek Boek 2"
  bwb_id: "BWBR0003045"
  article: "240"
  paragraph: "1"
  url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
  juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=1&z=2024-01-01&g=2024-01-01"
  explanation: >
    Artikel 2:240 lid 1 BW: "Het bestuur vertegenwoordigt de vennootschap, voor zover
    uit de wet niet anders voortvloeit." Lid 2: "De bevoegdheid tot vertegenwoordiging
    komt mede aan iedere bestuurder toe." Dit bepaalt dat bestuurders de BV kunnen
    vertegenwoordigen in het verkeer met derden, inclusief bestuursorganen.
description: >
  Bepaalt of een natuurlijke persoon bevoegd is om een rechtspersoon te vertegenwoordigen
  op basis van artikel 2:240 BW (vertegenwoordigingsbevoegdheid bestuur BV) en de
  inschrijving in het Handelsregister (Handelsregisterwet 2007 art. 18). Bestuurders
  zijn van rechtswege bevoegd de vennootschap te vertegenwoordigen. De statuten kunnen
  ook aan andere personen bevoegdheid tot vertegenwoordiging toekennen (art. 2:240 lid 4 BW).
  De bevoegdheid kan beperkt zijn conform art. 2:240 lid 3 BW.

references:
  - law: "Burgerlijk Wetboek Boek 2"
    article: "240"
    url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
    explanation: "Vertegenwoordiging BV door bestuur"
  - law: "Burgerlijk Wetboek Boek 2"
    article: "130"
    url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel4_Afdeling4_Artikel130"
    explanation: "Vertegenwoordiging NV door bestuur"
  - law: "Burgerlijk Wetboek Boek 2"
    article: "291"
    url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel6_Artikel291"
    explanation: "Vertegenwoordiging Stichting door bestuur"
  - law: "Burgerlijk Wetboek Boek 2"
    article: "45"
    url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel2_Artikel45"
    explanation: "Vertegenwoordiging Vereniging door bestuur"
  - law: "Burgerlijk Wetboek Boek 2"
    article: "53a"
    url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel3_Artikel53a"
    explanation: "Vertegenwoordiging CoÃ¶peratie door bestuur"
  - law: "Burgerlijk Wetboek Boek 7A"
    article: "1655"
    url: "https://wetten.overheid.nl/BWBR0005290/2024-01-01#Boek7A_Titeldeel9_Artikel1655"
    explanation: "Maatschap - vertegenwoordiging door maten"
  - law: "Wetboek van Koophandel"
    article: "19"
    url: "https://wetten.overheid.nl/BWBR0001830/2024-01-01#Boek1_Titeldeel3_Artikel19"
    explanation: "CV - alleen beherend vennoot vertegenwoordigt"
  - law: "Wetboek van Koophandel"
    article: "20"
    url: "https://wetten.overheid.nl/BWBR0001830/2024-01-01#Boek1_Titeldeel3_Artikel20"
    explanation: "CV - commanditair vennoot heeft geen vertegenwoordigingsbevoegdheid"
  - law: "Handelsregisterwet 2007"
    article: "18"
    url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
  - law: "Algemene wet bestuursrecht"
    article: "2:1"
    url: "https://wetten.overheid.nl/BWBR0005537/2024-01-01#Hoofdstuk2_Afdeling2.1_Artikel2:1"

properties:
  parameters:
    - name: "BSN"
      description: "BSN van de persoon wiens vertegenwoordigingsbevoegdheden worden opgezocht"
      type: "string"
      required: true
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "12"
        paragraph: "1"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel12"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=12&lid=1&z=2024-01-01&g=2024-01-01"
        explanation: "BSN identificeert functionarissen in het Handelsregister"

  sources:
    - name: "FUNCTIONARISSEN"
      description: "Functionarissen met bedrijfsgegevens uit het Handelsregister"
      type: "array"
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "18"
        paragraph: "1"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=18&lid=1&z=2024-01-01&g=2024-01-01"
        explanation: >
          Art. 18 Hrw verplicht inschrijving van eigenaren, bestuurders en anderen
          met vertegenwoordigingsbevoegdheid. Art. 9 Hrw bepaalt welke bedrijfsgegevens
          worden ingeschreven (handelsnaam, rechtsvorm, status).
      temporal:
        type: "period"
        period_type: "continuous"
      source_reference:
        table: "functionarissen"
        fields: ["kvk_nummer", "functie", "bevoegdheid", "handelsnaam", "rechtsvorm", "status", "datum_inschrijving", "datum_uitschrijving"]
        select_on:
          - name: "bsn"
            description: "BSN nummer van de persoon"
            type: "string"
            value: "$BSN"

  output:
    # Standaard Delegation Provider Interface outputs

    - name: "heeft_delegaties"
      description: "Of de persoon delegaties heeft (kan handelen namens andere entiteiten)"
      type: "boolean"
      legal_basis:
        law: "Burgerlijk Wetboek Boek 2"
        bwb_id: "BWBR0003045"
        article: "240"
        paragraph: "2"
        url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
        juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=2&z=2024-01-01&g=2024-01-01"
        explanation: >
          Art. 2:240 lid 2 BW: "De bevoegdheid tot vertegenwoordiging komt mede
          aan iedere bestuurder toe." Wie als bestuurder is ingeschreven in het
          Handelsregister heeft vertegenwoordigingsbevoegdheid.
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    - name: "subject_ids"
      description: "Identifiers van entiteiten waarvoor de persoon mag handelen (KVK nummers)"
      type: "array"
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "18"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
        explanation: "KVK nummers uit functionaris-registraties in Handelsregister"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    - name: "subject_names"
      description: "Namen van entiteiten waarvoor de persoon mag handelen"
      type: "array"
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "9"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel9"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=9&z=2024-01-01&g=2024-01-01"
        explanation: "Handelsnamen uit inschrijvingen in Handelsregister, met fallback"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    - name: "subject_types"
      description: "Types van de entiteiten (BUSINESS of CITIZEN)"
      type: "array"
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "9"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel9"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=9&z=2024-01-01&g=2024-01-01"
        explanation: "Deze wet behandelt alleen rechtspersonen, dus altijd BUSINESS"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    - name: "delegation_types"
      description: "Type delegatie per entiteit (functie in Handelsregister)"
      type: "array"
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "18"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
        explanation: "Functies uit functionaris-registraties met fallback naar ONBEKEND"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    - name: "permissions"
      description: "Rechten per entiteit gebaseerd op bevoegdheid"
      type: "array"
      legal_basis:
        law: "Burgerlijk Wetboek Boek 2"
        bwb_id: "BWBR0003045"
        article: "240"
        paragraph: "3"
        url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
        juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=3&z=2024-01-01&g=2024-01-01"
        explanation: >
          Art. 2:240 lid 3 BW: Bij VOLLEDIG bevoegdheid krijgt de functionaris alle rechten
          (lezen, claims indienen, besluiten ontvangen). Bij BEPERKT alleen leesrechten.
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    - name: "valid_from_dates"
      description: "Startdatum van elke delegatie"
      type: "array"
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "18"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
        explanation: "Inschrijvingsdatum in Handelsregister"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    - name: "valid_until_dates"
      description: "Einddatum van elke delegatie (null = onbeperkt)"
      type: "array"
      legal_basis:
        law: "Handelsregisterwet 2007"
        bwb_id: "BWBR0021777"
        article: "18"
        url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
        juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
        explanation: "Einddatum van functionarisregistratie, null indien nog actief"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

    # Internal outputs for computation (not part of standard interface)
    - name: "bevoegdheden"
      description: "Type bevoegdheid per functie (VOLLEDIG of BEPERKT) - intern gebruik"
      type: "array"
      legal_basis:
        law: "Burgerlijk Wetboek Boek 2"
        bwb_id: "BWBR0003045"
        article: "240"
        paragraph: "3"
        url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
        juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=3&z=2024-01-01&g=2024-01-01"
        explanation: >
          Art. 2:240 lid 3 BW bepaalt dat beperkingen in de statuten kunnen worden
          opgenomen. VOLLEDIG betekent onbeperkte vertegenwoordigingsbevoegdheid,
          BEPERKT betekent dat statutaire beperkingen van toepassing zijn.
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"

  definitions:
    # Art. 2:240 lid 2 BW: bestuurders hebben van rechtswege vertegenwoordigingsbevoegdheid
    BESTUURDER_FUNCTIES:
      - "BESTUURDER"
      - "DIRECTEUR"
      - "ALGEMEEN_DIRECTEUR"

    # Eigenaren van eenmanszaken/VOF's vertegenwoordigen van rechtswege
    EIGENAAR_FUNCTIES:
      - "EIGENAAR"
      - "VENNOOT"
      - "BEHEREND_VENNOOT"
      - "MAAT"

    # Art. 2:240 lid 4 BW: statuten kunnen ook anderen bevoegdheid toekennen
    GEMACHTIGDE_FUNCTIES:
      - "GEMACHTIGDE"
      - "PROCURATIEHOUDER"
      - "GEVOLMACHTIGDE"

    # Combinatie van alle functies die vertegenwoordigingsbevoegdheid geven
    # Art. 2:240 BW bepaalt dat bestuurders, eigenaren en gemachtigden bevoegd zijn
    # Art. 2:45 BW: voorzitter kan vereniging vertegenwoordigen
    # Commissarissen, toezichthouders etc. zijn NIET bevoegd tot vertegenwoordiging
    # COMMANDITAIR_VENNOOT is NIET bevoegd (stille vennoot, art. 20 WvK)
    BEVOEGDE_FUNCTIES:
      - "BESTUURDER"
      - "DIRECTEUR"
      - "ALGEMEEN_DIRECTEUR"
      - "EIGENAAR"
      - "VENNOOT"
      - "BEHEREND_VENNOOT"
      - "MAAT"
      - "VOORZITTER"
      - "GEMACHTIGDE"
      - "PROCURATIEHOUDER"
      - "GEVOLMACHTIGDE"

    # Art. 2:1 Awb: vertegenwoordiging in bestuurszaken omvat deze rechten
    # Bij volledige bevoegdheid (geen statutaire beperkingen):
    VOLLEDIGE_BEVOEGDHEID_RECHTEN:
      - "LEZEN"
      - "CLAIMS_INDIENEN"
      - "BESLUITEN_ONTVANGEN"

    # Bij beperkte bevoegdheid (statutaire beperkingen van toepassing):
    BEPERKTE_BEVOEGDHEID_RECHTEN:
      - "LEZEN"

requirements:
  - operation: EXISTS
    subject: "$FUNCTIONARISSEN"
    legal_basis:
      law: "Handelsregisterwet 2007"
      bwb_id: "BWBR0021777"
      article: "18"
      url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
      juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
      explanation: "Persoon moet als functionaris zijn ingeschreven in het Handelsregister"

actions:
  # Standaard Delegation Provider Interface actions

  # Stap 1: Filter functionarissen op bevoegde functies
  # Art. 2:240 BW bepaalt dat alleen bestuurders, eigenaren en gemachtigden bevoegd zijn
  # Commissarissen, toezichthouders etc. hebben GEEN vertegenwoordigingsbevoegdheid
  - output: "bevoegde_functionarissen"
    operation: FOREACH
    subject: "$FUNCTIONARISSEN"
    where:
      operation: IN
      subject: "$current.functie"
      values: "$BEVOEGDE_FUNCTIES"
    value: "$current"
    legal_basis:
      law: "Burgerlijk Wetboek Boek 2"
      bwb_id: "BWBR0003045"
      article: "240"
      paragraph: "2"
      url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
      juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=2&z=2024-01-01&g=2024-01-01"
      explanation: >
        Art. 2:240 lid 2 BW: alleen bestuurders hebben vertegenwoordigingsbevoegdheid.
        Art. 2:240 lid 4 BW: statuten kunnen ook anderen bevoegdheid toekennen (gemachtigden).
        Commissarissen en andere toezichthouders zijn NIET bevoegd de rechtspersoon te vertegenwoordigen.

  # heeft_delegaties: boolean indicating if person has any delegations
  - output: "heeft_delegaties"
    operation: EXISTS
    subject: "$bevoegde_functionarissen"
    legal_basis:
      law: "Burgerlijk Wetboek Boek 2"
      bwb_id: "BWBR0003045"
      article: "240"
      paragraph: "2"
      url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
      juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=2&z=2024-01-01&g=2024-01-01"
      explanation: >
        Art. 2:240 lid 2 BW bepaalt dat iedere bestuurder vertegenwoordigingsbevoegd is.
        Alleen functies met vertegenwoordigingsbevoegdheid worden meegeteld.

  # subject_ids: KVK numbers
  - output: "subject_ids"
    subject: "$bevoegde_functionarissen.kvk_nummer"
    legal_basis:
      law: "Handelsregisterwet 2007"
      bwb_id: "BWBR0021777"
      article: "18"
      url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
      juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
      explanation: "KVK nummers van bedrijven waarvoor bevoegde vertegenwoordiging is geregistreerd"

  # subject_names: handelsnaam uit Handelsregister
  - output: "subject_names"
    subject: "$bevoegde_functionarissen.handelsnaam"
    legal_basis:
      law: "Handelsregisterwet 2007"
      bwb_id: "BWBR0021777"
      article: "9"
      url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel9"
      juriconnect: "jci1.3:c:BWBR0021777&artikel=9&z=2024-01-01&g=2024-01-01"
      explanation: "Handelsnaam uit inschrijving in Handelsregister"

  # subject_types: constant "BUSINESS" for each delegation
  - output: "subject_types"
    operation: FOREACH
    subject: "$bevoegde_functionarissen"
    value: "BUSINESS"
    legal_basis:
      law: "Handelsregisterwet 2007"
      bwb_id: "BWBR0021777"
      article: "9"
      url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel9"
      juriconnect: "jci1.3:c:BWBR0021777&artikel=9&z=2024-01-01&g=2024-01-01"
      explanation: "Deze wet behandelt alleen rechtspersonen (BUSINESS), geen natuurlijke personen"

  # delegation_types: functie uit Handelsregister
  - output: "delegation_types"
    subject: "$bevoegde_functionarissen.functie"
    legal_basis:
      law: "Handelsregisterwet 2007"
      bwb_id: "BWBR0021777"
      article: "18"
      url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
      juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
      explanation: "Functie uit functionaris-registratie in Handelsregister"

  # bevoegdheden: internal computation
  - output: "bevoegdheden"
    subject: "$bevoegde_functionarissen.bevoegdheid"
    legal_basis:
      law: "Burgerlijk Wetboek Boek 2"
      bwb_id: "BWBR0003045"
      article: "240"
      paragraph: "3"
      url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
      juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=3&z=2024-01-01&g=2024-01-01"
      explanation: >
        Art. 2:240 lid 3 BW: de bevoegdheid van het bestuur kan in de statuten
        worden beperkt. Het Handelsregister registreert dit als VOLLEDIG of BEPERKT.

  # permissions: rights per business based on authority
  - output: "permissions"
    operation: FOREACH
    subject: "$bevoegdheden"
    value:
      operation: IF
      conditions:
        - test:
            operation: EQUALS
            values:
              - "$current"
              - "VOLLEDIG"
          then: "$VOLLEDIGE_BEVOEGDHEID_RECHTEN"
        - else: "$BEPERKTE_BEVOEGDHEID_RECHTEN"
    legal_basis:
      law: "Burgerlijk Wetboek Boek 2"
      bwb_id: "BWBR0003045"
      article: "240"
      paragraph: "3"
      url: "https://wetten.overheid.nl/BWBR0003045/2024-01-01#Boek2_Titeldeel5_Afdeling4_Artikel240"
      juriconnect: "jci1.3:c:BWBR0003045&boek=2&artikel=240&lid=3&z=2024-01-01&g=2024-01-01"
      explanation: >
        Bepaalt per bedrijf de rechten op basis van de geregistreerde bevoegdheid.
        VOLLEDIG = alle rechten, BEPERKT = alleen leesrechten.

  # valid_from_dates: inschrijvingsdatum uit Handelsregister
  - output: "valid_from_dates"
    subject: "$bevoegde_functionarissen.datum_inschrijving"
    legal_basis:
      law: "Handelsregisterwet 2007"
      bwb_id: "BWBR0021777"
      article: "18"
      url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
      juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
      explanation: "Inschrijvingsdatum uit Handelsregister"

  # valid_until_dates: uitschrijvingsdatum (null indien nog actief)
  - output: "valid_until_dates"
    subject: "$bevoegde_functionarissen.datum_uitschrijving"
    legal_basis:
      law: "Handelsregisterwet 2007"
      bwb_id: "BWBR0021777"
      article: "18"
      url: "https://wetten.overheid.nl/BWBR0021777/2024-01-01#Hoofdstuk3_Artikel18"
      juriconnect: "jci1.3:c:BWBR0021777&artikel=18&z=2024-01-01&g=2024-01-01"
      explanation: "Uitschrijvingsdatum uit Handelsregister, null indien nog actief"
