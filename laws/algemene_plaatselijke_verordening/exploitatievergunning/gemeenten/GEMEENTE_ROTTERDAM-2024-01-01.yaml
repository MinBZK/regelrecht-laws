$id: https://raw.githubusercontent.com/MinBZK/poc-machine-law/refs/heads/main/schema/v0.1.6/schema.json
uuid: 8a3f4b2c-7d1e-4f8a-9c3b-5e6d7f8a9b0c
name: Exploitatievergunning Horeca Rotterdam
law: algemene_plaatselijke_verordening/exploitatievergunning
law_type: "FORMELE_WET"
legal_character: "BESCHIKKING"
decision_type: "TOEKENNING"
discoverable: "BUSINESS"
valid_from: 2024-01-01
service: "GEMEENTE_ROTTERDAM"
legal_basis:
  law: "Algemene plaatselijke verordening Rotterdam 2012"
  article: "2:28"
  url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
  explanation: "Artikel 2:28 van de APV Rotterdam 2012 regelt de exploitatievergunning voor openbare inrichtingen zoals horeca, hotels en uitgaansgelegenheden"
description: >
  Regels voor het verkrijgen van een exploitatievergunning voor openbare inrichtingen in Rotterdam.
  Een exploitatievergunning is vereist voor het exploiteren van horeca, hotels, uitgaansgelegenheden
  en andere publieke inrichtingen. De vergunning wordt verleend voor vijf jaar en stelt eisen aan
  de exploitant (leeftijd, goed gedrag), het pand (bestemmingsplan, BAG-registratie) en de exploitatie
  (openingstijden, horecagebiedsplan).

references:
  - law: "Algemene plaatselijke verordening Rotterdam 2012"
    article: "2:28a"
    url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
  - law: "Algemene plaatselijke verordening Rotterdam 2012"
    article: "2:28b"
    url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
  - law: "Algemene plaatselijke verordening Rotterdam 2012"
    article: "2:29"
    url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
  - law: "Horecanota Rotterdam 2023"
    article: "Geheel"
    url: "https://lokaleregelgeving.overheid.nl/CVDR717300/1"

properties:
  parameters:
    - name: "KVK_NUMMER"
      description: "KVK-nummer van de onderneming"
      type: "string"
      required: true
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "1"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Het KVK-nummer is nodig voor identificatie van de onderneming die de exploitatievergunning aanvraagt"

  sources:
    - name: "BSN_EXPLOITANT"
      description: "BSN van de exploitant (eigenaar van de onderneming)"
      type: "string"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"
      source_reference:
        table: "inschrijvingen"
        field: "bsn_eigenaar"
        select_on:
          - name: "kvk_nummer"
            description: "KVK-nummer van de onderneming"
            type: "string"
            value: "$KVK_NUMMER"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "4"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Het BSN wordt opgezocht via de KVK-inschrijving voor toetsing van de exploitant aan de gestelde eisen"

    - name: "HEEFT_GELDIGE_VOG"
      description: "Of de exploitant een geldige Verklaring Omtrent Gedrag (VOG) heeft overlegd"
      type: "boolean"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"
      source_reference:
        table: "personen_vog"
        field: "heeft_geldige_vog"
        select_on:
          - name: "bsn"
            description: "BSN van de exploitant"
            type: "string"
            value: "$BSN_EXPLOITANT"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "4"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "De VOG-status wordt opgezocht in het gemeentelijk register"

    - name: "ADRES"
      description: "Adres van de openbare inrichting"
      type: "string"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"
      source_reference:
        table: "vestigingen"
        field: "adres"
        select_on:
          - name: "kvk_nummer"
            description: "KVK-nummer van de onderneming"
            type: "string"
            value: "$KVK_NUMMER"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "1"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Het adres is nodig voor toetsing aan bestemmingsplan, horecagebiedsplan en BAG-registratie"

    - name: "VERSTREKT_ALCOHOL"
      description: "Geeft aan of er alcoholhoudende dranken worden verstrekt"
      type: "boolean"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"
      source_reference:
        table: "vestigingen"
        field: "schenkt_alcohol"
        select_on:
          - name: "kvk_nummer"
            description: "KVK-nummer van de onderneming"
            type: "string"
            value: "$KVK_NUMMER"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "4"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Indien alcohol wordt verstrekt gelden aanvullende eisen aan leeftijd (21 jaar) en kennis van sociale hygiÃ«ne"

    - name: "GEMEENTELIJKE_HORECAGEBIEDSPLANNEN"
      description: "Horecagebiedsplannen voor verschillende gebieden in Rotterdam"
      type: "object"
      temporal:
        type: "period"
        period_type: "continuous"
      source_reference:
        table: "horecagebiedsplannen"
        fields: ["gebied", "toegestane_categorieen", "maximaal_aantal", "ontwikkelruimte"]
        select_on:
          - name: "adres"
            description: "Adres van de inrichting"
            type: "string"
            value: "$ADRES"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28b"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Artikel 2:28b bepaalt dat het college horecagebiedsplannen vaststelt waarin de ontwikkelingsrichting voor vergunningplichtige horeca wordt bepaald"

    - name: "VERGUNNING_GESCHIEDENIS"
      description: "Eerdere vergunningen en handhavingsgeschiedenis op dit adres"
      type: "object"
      temporal:
        type: "period"
        period_type: "continuous"
      source_reference:
        table: "vergunningen_historie"
        fields: ["vergunning_type", "afgiftedatum", "intrekkingsdatum", "intrekkingsreden", "handhavingsacties"]
        select_on:
          - name: "adres"
            description: "Adres van de inrichting"
            type: "string"
            value: "$ADRES"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "5"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Eerdere vergunningen en handhavingsgeschiedenis kunnen relevant zijn bij de beoordeling van een nieuwe aanvraag"

  input:
    - name: "BEDRIJF_STATUS"
      description: "Status van de onderneming in het handelsregister"
      type: "string"
      service_reference:
        service: "KVK"
        law: "handelsregisterwet/bedrijfsgegevens"
        field: "status"
        parameters:
          - name: "KVK_NUMMER"
            reference: "$KVK_NUMMER"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "1"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "De onderneming moet actief geregistreerd zijn in het handelsregister om een exploitatievergunning te kunnen aanvragen"

    - name: "LEEFTIJD_EXPLOITANT"
      description: "Leeftijd van de exploitant"
      type: "number"
      service_reference:
        service: "RvIG"
        law: "wet_brp"
        field: "leeftijd"
        parameters:
          - name: "BSN"
            reference: "$BSN_EXPLOITANT"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "4"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Artikel 2:28 lid 4 bepaalt dat de exploitant minimaal 18 jaar oud moet zijn, of 21 jaar indien alcohol wordt verstrekt"

    - name: "IS_ONDER_CURATELE"
      description: "Of de exploitant onder curatele staat"
      type: "boolean"
      service_reference:
        service: "RECHTSPRAAK"
        law: "burgerlijk_wetboek_handelingsonbekwaamheid"
        field: "is_onder_curatele"
        parameters:
          - name: "BSN"
            reference: "$BSN_EXPLOITANT"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "4"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Artikel 2:28 lid 4 bepaalt dat de exploitant niet onder curatele mag staan. Dit wordt geverifieerd via het CCBR bij Rechtspraak"

    - name: "BAG_GEBRUIKSDOEL"
      description: "Gebruiksdoel van het pand volgens de BAG"
      type: "string"
      service_reference:
        service: "KADASTER"
        law: "wet_bag"
        field: "gebruiksdoel"
        parameters:
          - name: "ADRES"
            reference: "$ADRES"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "5"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Artikel 2:28 lid 5 bepaalt dat de vergunning kan worden geweigerd indien de exploitatie in strijd is met het bestemmingsplan"

    - name: "BAG_OPPERVLAKTE"
      description: "Gebruiksoppervlakte van het pand"
      type: "number"
      service_reference:
        service: "KADASTER"
        law: "wet_bag"
        field: "oppervlakte"
        parameters:
          - name: "ADRES"
            reference: "$ADRES"
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "1"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "De oppervlakte van het pand kan relevant zijn voor het bepalen van de vergunningscategorie"

  output:
    - name: "heeft_recht_op_vergunning"
      description: "Voldoet aan voorwaarden voor exploitatievergunning"
      type: "boolean"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"
      citizen_relevance: primary
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Het recht op een exploitatievergunning wordt bepaald volgens artikel 2:28 APV Rotterdam 2012"

    - name: "weigeringsgrond"
      description: "Eventuele reden voor weigering van de vergunning"
      type: "string"
      temporal:
        type: "point_in_time"
        reference: "$calculation_date"
      citizen_relevance: primary
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "5"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Artikel 2:28 lid 5 en 6 bepalen de gronden waarop de burgemeester de vergunning kan weigeren"

    - name: "vergunningsduur"
      description: "Duur van de vergunning in jaren"
      type: "number"
      temporal:
        type: "period"
        period_type: "continuous"
      citizen_relevance: secondary
      legal_basis:
        law: "Algemene plaatselijke verordening Rotterdam 2012"
        article: "2:28"
        paragraph: "2"
        url: "https://lokaleregelgeving.overheid.nl/CVDR373493/11"
        explanation: "Artikel 2:28 lid 2 bepaalt dat de vergunning wordt verleend voor vijf jaar, tenzij anders bepaald"

  definitions:
    MINIMALE_LEEFTIJD_ZONDER_ALCOHOL: 18
    MINIMALE_LEEFTIJD_MET_ALCOHOL: 21
    STANDAARD_VERGUNNINGSDUUR: 5  # jaren
    TOEGESTANE_GEBRUIKSDOELEN:
      - "bijeenkomstfunctie"
      - "celfunctie"
      - "winkelfunctie"
      - "overige gebruiksfunctie"

requirements:
  - all:
      # Onderneming moet actief zijn (status is "Actief")
      - subject: "$BEDRIJF_STATUS"
        operation: EQUALS
        value: "Actief"
      # Leeftijdseis afhankelijk van alcohol
      - or:
          # Geen alcohol: 18 jaar
          - all:
              - subject: "$VERSTREKT_ALCOHOL"
                operation: EQUALS
                value: false
              - operation: GREATER_OR_EQUAL
                values:
                  - "$LEEFTIJD_EXPLOITANT"
                  - "$MINIMALE_LEEFTIJD_ZONDER_ALCOHOL"
          # Wel alcohol: 21 jaar
          - all:
              - subject: "$VERSTREKT_ALCOHOL"
                operation: EQUALS
                value: true
              - operation: GREATER_OR_EQUAL
                values:
                  - "$LEEFTIJD_EXPLOITANT"
                  - "$MINIMALE_LEEFTIJD_MET_ALCOHOL"
      # Goed gedrag (VOG overlegd)
      - subject: "$HEEFT_GELDIGE_VOG"
        operation: EQUALS
        value: true
      # Niet onder curatele (via CCBR bij Rechtspraak)
      - subject: "$IS_ONDER_CURATELE"
        operation: EQUALS
        value: false
      # BAG gebruiksdoel toegestaan
      - operation: IN
        subject: "$BAG_GEBRUIKSDOEL"
        values: "$TOEGESTANE_GEBRUIKSDOELEN"

actions:
  - output: "heeft_recht_op_vergunning"
    value: true

  - output: "weigeringsgrond"
    value: ""

  - output: "vergunningsduur"
    value: "$STANDAARD_VERGUNNINGSDUUR"
